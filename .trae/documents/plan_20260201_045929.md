## 问题分析
用户使用的是GP-U80250 Series打印机，通过USB连接到电脑。打印机可以正常打印测试页，但是通过后端系统打印订单时仍然出现乱码。

从图片中可以看到，打印出来的文字都是乱码，无法正常阅读。这可能是由于以下原因导致的：
1. 临时文件的编码格式不正确
2. PowerShell 命令的执行方式有问题
3. 打印内容的编码与打印机不匹配
4. 打印机的字符编码设置不正确

## 解决方案
修改打印机服务代码，确保打印内容的编码正确，并且使用适合热敏打印机的打印格式。

## 具体修改步骤

1. **修改打印机服务代码** (`printer.service.ts`)
   - 确保临时文件使用 UTF-8 编码
   - 修改 PowerShell 命令，确保正确处理编码
   - 尝试使用不同的打印方法
   - 添加更多的调试信息，以便了解问题所在

2. **测试打印机连接**
   - 重启后端服务
   - 测试下单流程，验证打印功能是否正常
   - 检查打印机连接状态和打印队列

3. **优化打印命令**
   - 尝试使用不同的 PowerShell 命令格式
   - 确保打印内容正确发送到打印机
   - 添加重试机制，确保打印任务能够成功执行

## 技术实现
- 使用 Node.js 的 fs 模块创建临时文件时指定编码格式
- 修改 PowerShell 命令，确保正确处理 UTF-8 编码
- 添加详细的日志输出，方便调试
- 确保即使打印失败，订单也能正常保存和处理

## 预期效果
- 打印机能够正确接收和打印订单
- 打印内容清晰可读，不再出现乱码
- 后端能够正确处理打印结果和错误
- 即使打印机连接失败，订单也能正常保存和处理