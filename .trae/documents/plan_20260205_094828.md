# 前端环境变量配置方案

## 实施计划

### 1. 创建环境配置文件
- **在 h5-client 根目录创建**：
  - `.env.development` - 开发环境配置
  - `.env.production` - 生产环境配置
- **配置内容**：
  ```
  VITE_API_BASE_URL=http://192.168.40.99:3003
  ```

### 2. 创建统一配置服务
- **创建文件**：`src/utils/apiConfig.js`
- **功能**：统一管理 API 基础 URL，提供便捷的 API 路径构建函数
- **优势**：所有组件使用统一配置，修改一处即可

### 3. 修改现有组件（如果需要）
- **检查并更新**：`CategoryManage.vue`、`OrderManage.vue` 等使用 API 的组件
- **保持 API 端点不变**，只替换基础 URL

### 4. 配置 Git 忽略
- **更新 `.gitignore`**：添加环境配置文件到忽略列表
- **避免 Git 冲突**：环境配置文件不纳入版本控制

## 部署指南

### 复制文件清单
1. **环境配置文件**：
   - `.env.development`
   - `.env.production`

2. **配置服务文件**：
   - `src/utils/apiConfig.js`

3. **其他必要文件**：
   - 保持现有组件文件不变
   - 确保 `.gitignore` 已更新

### 使用方法
1. **复制文件**到新环境的对应位置
2. **修改环境配置**：根据目标服务器 IP 修改 `.env` 文件中的 URL
3. **重启开发服务器**：使配置生效
4. **构建生产版本**：自动使用生产环境配置

## 技术优势
- ✅ **无需手动修改组件**：配置集中管理
- ✅ **避免 Git 冲突**：环境配置文件被忽略
- ✅ **多环境支持**：开发和生产环境自动使用不同配置
- ✅ **向后兼容**：当环境变量未设置时使用默认值