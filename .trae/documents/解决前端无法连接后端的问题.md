# 解决前端无法连接后端的问题

## 问题分析
- 前端显示 "Error: connect ECONNREFUSED 127.0.0.1:3003" 错误
- 端口 3003 确实有后端服务在运行（PID 41732）
- 前端代理配置已更新为指向端口 3003
- 前端服务由于端口 3005 被占用，自动切换到了端口 3006

## 解决方案

### 步骤 1：检查后端服务状态
1. **查看后端服务日志**：检查后端服务是否正常启动，是否有任何错误信息
2. **测试后端 API 可访问性**：使用 curl 或浏览器直接访问后端 API，确认 API 是否正常响应

### 步骤 2：重启前端服务
1. **停止当前前端服务**：关闭所有占用端口 3005 的进程
2. **重启前端服务**：在 `apps/admin-panel` 目录下运行 `npm run dev`
3. **确认代理配置**：确保前端服务使用更新后的代理配置，指向后端端口 3003

### 步骤 3：检查网络连接
1. **防火墙设置**：确认防火墙没有阻止端口 3003 的访问
2. **网络连接**：检查本地网络连接是否正常
3. **DNS 设置**：确认 localhost 解析正常

### 步骤 4：验证 API 路由
1. **检查后端 API 路由**：确认后端 API 路由是否正确注册
2. **测试具体 API 端点**：测试 `/api/products`、`/api/categories` 等具体端点

## 预期效果
- 前端能够正常连接到后端服务
- 前端代理配置正确应用
- 后端 API 能够正常响应请求

## 验证步骤
1. 启动后端服务：`cd apps/server && npm run start`
2. 启动前端服务：`cd apps/admin-panel && npm run dev`
3. 访问前端应用：打开浏览器访问 `http://localhost:3005`
4. 测试 API 连接：在前端应用中测试产品和分类的加载
5. 验证删除脚本：运行 `node delete-new-products.js` 测试后端连接